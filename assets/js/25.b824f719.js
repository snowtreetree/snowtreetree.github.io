(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{371:function(t,v,l){"use strict";l.r(v);var _=l(43),i=Object(_.a)({},(function(){var t=this,v=t.$createElement,l=t._self._c||v;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"重绘和回流"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#重绘和回流"}},[t._v("#")]),t._v(" 重绘和回流")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),l("p",[t._v("浏览器渲染过程")]),t._v(" "),l("ul",[l("li",[t._v("处理HTML标记，构建DOM树")]),t._v(" "),l("li",[t._v("处理CSS标记，构建CSSOM树")]),t._v(" "),l("li",[t._v("将DOM和CSSDOM合并成渲染树")]),t._v(" "),l("li",[t._v("根据渲染树完成布局，并计算每个节点的集合信息")]),t._v(" "),l("li",[t._v("将节点绘制到屏幕上")])])]),t._v(" "),l("p",[l("img",{attrs:{src:"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/render-tree-construction.png?hl=zh-cn",alt:"过程"}})]),t._v(" "),l("h2",{attrs:{id:"重绘"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#重绘"}},[t._v("#")]),t._v(" 重绘")]),t._v(" "),l("p",[t._v("由于节点的属性发生改变或样式变化影响布局的，称为重绘，例如visibility，color，bgcolor,outline 等。")]),t._v(" "),l("h2",{attrs:{id:"回流（reflow）"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#回流（reflow）"}},[t._v("#")]),t._v(" 回流（reflow）")]),t._v(" "),l("p",[t._v("前面我们通过构造渲染树，我们将可见DOM节点以及它对应的样式结合起来，可是我们还需要计算它们在设备视口(viewport)内的确切位置和大小，这个计算的阶段就是回流。")]),t._v(" "),l("ul",[l("li",[t._v("改变font-size，font-family")]),t._v(" "),l("li",[t._v("改变元素内外边距")]),t._v(" "),l("li",[t._v("通过JS改变CSS样式")]),t._v(" "),l("li",[t._v("通过JS获取DOM元素的位置相关属性")]),t._v(" "),l("li",[t._v("改变窗口大小")])]),t._v(" "),l("h2",{attrs:{id:"优化"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#优化"}},[t._v("#")]),t._v(" 优化")]),t._v(" "),l("ul",[l("li",[t._v("减少重绘和回流，或者使用中会代替回流")]),t._v(" "),l("li",[t._v("批量修改（先脱离文档流，然后操作，再恢复）")]),t._v(" "),l("li",[t._v("css3硬件加速（ransform、opacity、filters这些动画不会引起回流重绘）")]),t._v(" "),l("li",[t._v("避免使用table")]),t._v(" "),l("li",[t._v("避免使用CSS表达式")]),t._v(" "),l("li",[t._v("频繁操作样式，可以将样式一次性赋值")]),t._v(" "),l("li",[t._v("DOM缓存")])])])}),[],!1,null,null,null);v.default=i.exports}}]);